<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `prim_store` mod in crate `webrender`."><meta name="keywords" content="rust, rustlang, rust-lang, prim_store"><title>webrender::prim_store - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../webrender/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module prim_store</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#statics">Statics</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class='location'><a href='../index.html'>webrender</a></p><script>window.sidebarCurrent = {name: 'prim_store', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/webrender/prim_store/mod.rs.html#5-4529' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>webrender</a>::<wbr><a class="mod" href=''>prim_store</a></span></h1><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="backdrop/index.html" title='webrender::prim_store::backdrop mod'>backdrop</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="borders/index.html" title='webrender::prim_store::borders mod'>borders</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="gradient/index.html" title='webrender::prim_store::gradient mod'>gradient</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="image/index.html" title='webrender::prim_store::image mod'>image</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="interned/index.html" title='webrender::prim_store::interned mod'>interned</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="line_dec/index.html" title='webrender::prim_store::line_dec mod'>line_dec</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="picture/index.html" title='webrender::prim_store::picture mod'>picture</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="text_run/index.html" title='webrender::prim_store::text_run mod'>text_run</a></td><td class='docblock-short'></td></tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.BorderSegmentInfo.html" title='webrender::prim_store::BorderSegmentInfo struct'>BorderSegmentInfo</a></td><td class='docblock-short'><p>Information about how to cache a border segment,
along with the current render task cache entry.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.BrushSegment.html" title='webrender::prim_store::BrushSegment struct'>BrushSegment</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.CachedGradientSegment.html" title='webrender::prim_store::CachedGradientSegment struct'>CachedGradientSegment</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.ClipCorner.html" title='webrender::prim_store::ClipCorner struct'>ClipCorner</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.ClipData.html" title='webrender::prim_store::ClipData struct'>ClipData</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.ClipRect.html" title='webrender::prim_store::ClipRect struct'>ClipRect</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.ClipTaskIndex.html" title='webrender::prim_store::ClipTaskIndex struct'>ClipTaskIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.DeferredResolve.html" title='webrender::prim_store::DeferredResolve struct'>DeferredResolve</a></td><td class='docblock-short'><p>For external images, it's not possible to know the
UV coords of the image (or the image data itself)
until the render thread receives the frame and issues
callbacks to the client application. For external
images that are visible, a DeferredResolve is created
that is stored in the frame. This allows the render
thread to iterate this list and update any changed
texture data and update the UV rect. Any filtering
is handled externally for NativeTexture external
images.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ImageMaskData.html" title='webrender::prim_store::ImageMaskData struct'>ImageMaskData</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.NinePatchDescriptor.html" title='webrender::prim_store::NinePatchDescriptor struct'>NinePatchDescriptor</a></td><td class='docblock-short'><p>A hashable descriptor for nine-patches, used by image and
gradient borders.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.OpacityBinding.html" title='webrender::prim_store::OpacityBinding struct'>OpacityBinding</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PictureIndex.html" title='webrender::prim_store::PictureIndex struct'>PictureIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PointKey.html" title='webrender::prim_store::PointKey struct'>PointKey</a></td><td class='docblock-short'><p>A hashable point for using as a key during primitive interning.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimKey.html" title='webrender::prim_store::PrimKey struct'>PrimKey</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimKeyCommonData.html" title='webrender::prim_store::PrimKeyCommonData struct'>PrimKeyCommonData</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimTemplate.html" title='webrender::prim_store::PrimTemplate struct'>PrimTemplate</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimTemplateCommonData.html" title='webrender::prim_store::PrimTemplateCommonData struct'>PrimTemplateCommonData</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveDebugId.html" title='webrender::prim_store::PrimitiveDebugId struct'>PrimitiveDebugId</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveInstance.html" title='webrender::prim_store::PrimitiveInstance struct'>PrimitiveInstance</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveKey.html" title='webrender::prim_store::PrimitiveKey struct'>PrimitiveKey</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveOpacity.html" title='webrender::prim_store::PrimitiveOpacity struct'>PrimitiveOpacity</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveScratchBuffer.html" title='webrender::prim_store::PrimitiveScratchBuffer struct'>PrimitiveScratchBuffer</a></td><td class='docblock-short'><p>Contains various vecs of data that is used only during frame building,
where we want to recycle the memory each new display list, to avoid constantly
re-allocating and moving memory around. Written during primitive preparation,
and read during batching.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveStore.html" title='webrender::prim_store::PrimitiveStore struct'>PrimitiveStore</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveStoreStats.html" title='webrender::prim_store::PrimitiveStoreStats struct'>PrimitiveStoreStats</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveTemplate.html" title='webrender::prim_store::PrimitiveTemplate struct'>PrimitiveTemplate</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveVisibility.html" title='webrender::prim_store::PrimitiveVisibility struct'>PrimitiveVisibility</a></td><td class='docblock-short'><p>Information stored for a visible primitive about the visible
rect and associated clip information.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveVisibilityFlags.html" title='webrender::prim_store::PrimitiveVisibilityFlags struct'>PrimitiveVisibilityFlags</a></td><td class='docblock-short'><p>A set of bitflags that can be set in the visibility information
for a primitive instance. This can be used to control how primitives
are treated during batching.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveVisibilityIndex.html" title='webrender::prim_store::PrimitiveVisibilityIndex struct'>PrimitiveVisibilityIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.PrimitiveVisibilityMask.html" title='webrender::prim_store::PrimitiveVisibilityMask struct'>PrimitiveVisibilityMask</a></td><td class='docblock-short'><p>A bit mask describing which dirty regions a primitive is visible in.
A value of 0 means not visible in any region, while a mask of 0xffff
would be considered visible in all regions.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.RectangleKey.html" title='webrender::prim_store::RectangleKey struct'>RectangleKey</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.SegmentedInstance.html" title='webrender::prim_store::SegmentedInstance struct'>SegmentedInstance</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.SideOffsetsKey.html" title='webrender::prim_store::SideOffsetsKey struct'>SideOffsetsKey</a></td><td class='docblock-short'><p>A hashable SideOffset2D that can be used in primitive keys.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SizeKey.html" title='webrender::prim_store::SizeKey struct'>SizeKey</a></td><td class='docblock-short'><p>A hashable size for using as a key during primitive interning.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SpaceMapper.html" title='webrender::prim_store::SpaceMapper struct'>SpaceMapper</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.SpaceSnapper.html" title='webrender::prim_store::SpaceSnapper struct'>SpaceSnapper</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.VectorKey.html" title='webrender::prim_store::VectorKey struct'>VectorKey</a></td><td class='docblock-short'><p>A hashable vec for using as a key during primitive interning.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.VisibleGradientTile.html" title='webrender::prim_store::VisibleGradientTile struct'>VisibleGradientTile</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.VisibleMaskImageTile.html" title='webrender::prim_store::VisibleMaskImageTile struct'>VisibleMaskImageTile</a></td><td class='docblock-short'></td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.ClipMaskKind.html" title='webrender::prim_store::ClipMaskKind enum'>ClipMaskKind</a></td><td class='docblock-short'><p>Represents the visibility state of a segment (wrt clip masks).</p>
</td></tr><tr class='module-item'><td><a class="enum" href="enum.PrimitiveInstanceKind.html" title='webrender::prim_store::PrimitiveInstanceKind enum'>PrimitiveInstanceKind</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="enum" href="enum.PrimitiveTemplateKind.html" title='webrender::prim_store::PrimitiveTemplateKind enum'>PrimitiveTemplateKind</a></td><td class='docblock-short'><p>The shared information for a given primitive. This is interned and retained
both across frames and display lists, by comparing the matching PrimitiveKey.</p>
</td></tr></table><h2 id='constants' class='section-header'><a href="#constants">Constants</a></h2>
<table><tr class='module-item'><td><a class="constant" href="constant.MAX_MASK_SIZE.html" title='webrender::prim_store::MAX_MASK_SIZE constant'>MAX_MASK_SIZE</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="constant" href="constant.MIN_BRUSH_SPLIT_AREA.html" title='webrender::prim_store::MIN_BRUSH_SPLIT_AREA constant'>MIN_BRUSH_SPLIT_AREA</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="constant" href="constant.VECS_PER_SEGMENT.html" title='webrender::prim_store::VECS_PER_SEGMENT constant'>VECS_PER_SEGMENT</a></td><td class='docblock-short'></td></tr></table><h2 id='statics' class='section-header'><a href="#statics">Statics</a></h2>
<table><tr class='module-item'><td><a class="static" href="static.NEXT_PRIM_ID.html" title='webrender::prim_store::NEXT_PRIM_ID static'>NEXT_PRIM_ID</a></td><td class='docblock-short'><p>Counter for unique primitive IDs for debug tracing.</p>
</td></tr><tr class='module-item'><td><a class="static" href="static.PRIM_CHASE_ID.html" title='webrender::prim_store::PRIM_CHASE_ID static'>PRIM_CHASE_ID</a></td><td class='docblock-short'></td></tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.InternablePrimitive.html" title='webrender::prim_store::InternablePrimitive trait'>InternablePrimitive</a></td><td class='docblock-short'><p>Trait for primitives that are directly internable.
see SceneBuilder::add_primitive<P></p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.adjust_mask_scale_for_max_size.html" title='webrender::prim_store::adjust_mask_scale_for_max_size fn'>adjust_mask_scale_for_max_size</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.compute_conservative_visible_rect.html" title='webrender::prim_store::compute_conservative_visible_rect fn'>compute_conservative_visible_rect</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.decompose_repeated_primitive.html" title='webrender::prim_store::decompose_repeated_primitive fn'>decompose_repeated_primitive</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.edge_flags_for_tile_spacing.html" title='webrender::prim_store::edge_flags_for_tile_spacing fn'>edge_flags_for_tile_spacing</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.get_clipped_device_rect.html" title='webrender::prim_store::get_clipped_device_rect fn'>get_clipped_device_rect</a></td><td class='docblock-short'><p>Given an unclipped device rect, try to find a minimal device space
rect to allocate a clip mask for, by clipping to the screen. This
function is very similar to get_raster_rects below. It is far from
ideal, and should be refactored as part of the support for setting
scale per-raster-root.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.get_line_decoration_size.html" title='webrender::prim_store::get_line_decoration_size fn'>get_line_decoration_size</a></td><td class='docblock-short'><p>Choose the decoration mask tile size for a given line.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.get_raster_rects.html" title='webrender::prim_store::get_raster_rects fn'>get_raster_rects</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.get_unclipped_device_rect.html" title='webrender::prim_store::get_unclipped_device_rect fn'>get_unclipped_device_rect</a></td><td class='docblock-short'><p>Retrieve the exact unsnapped device space rectangle for a primitive.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.register_prim_chase_id.html" title='webrender::prim_store::register_prim_chase_id fn'>register_prim_chase_id</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.update_opacity_binding.html" title='webrender::prim_store::update_opacity_binding fn'>update_opacity_binding</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.write_brush_segment_description.html" title='webrender::prim_store::write_brush_segment_description fn'>write_brush_segment_description</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.write_segment.html" title='webrender::prim_store::write_segment fn'>write_segment</a></td><td class='docblock-short'></td></tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table><tr class='module-item'><td><a class="type" href="type.BorderHandleStorage.html" title='webrender::prim_store::BorderHandleStorage type'>BorderHandleStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.ColorBindingIndex.html" title='webrender::prim_store::ColorBindingIndex type'>ColorBindingIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.ColorBindingStorage.html" title='webrender::prim_store::ColorBindingStorage type'>ColorBindingStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.GlyphKeyStorage.html" title='webrender::prim_store::GlyphKeyStorage type'>GlyphKeyStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.GradientTileRange.html" title='webrender::prim_store::GradientTileRange type'>GradientTileRange</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.GradientTileStorage.html" title='webrender::prim_store::GradientTileStorage type'>GradientTileStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.ImageInstanceIndex.html" title='webrender::prim_store::ImageInstanceIndex type'>ImageInstanceIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.ImageInstanceStorage.html" title='webrender::prim_store::ImageInstanceStorage type'>ImageInstanceStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.LinearGradientIndex.html" title='webrender::prim_store::LinearGradientIndex type'>LinearGradientIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.LinearGradientStorage.html" title='webrender::prim_store::LinearGradientStorage type'>LinearGradientStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.OpacityBindingIndex.html" title='webrender::prim_store::OpacityBindingIndex type'>OpacityBindingIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.OpacityBindingStorage.html" title='webrender::prim_store::OpacityBindingStorage type'>OpacityBindingStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.PrimitiveDataHandle.html" title='webrender::prim_store::PrimitiveDataHandle type'>PrimitiveDataHandle</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.SegmentInstanceIndex.html" title='webrender::prim_store::SegmentInstanceIndex type'>SegmentInstanceIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.SegmentInstanceStorage.html" title='webrender::prim_store::SegmentInstanceStorage type'>SegmentInstanceStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.SegmentStorage.html" title='webrender::prim_store::SegmentStorage type'>SegmentStorage</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.SegmentsRange.html" title='webrender::prim_store::SegmentsRange type'>SegmentsRange</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.TextRunIndex.html" title='webrender::prim_store::TextRunIndex type'>TextRunIndex</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="type" href="type.TextRunStorage.html" title='webrender::prim_store::TextRunStorage type'>TextRunStorage</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "webrender";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>