<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ThreadParkerT` trait in crate `parking_lot_core`."><meta name="keywords" content="rust, rustlang, rust-lang, ThreadParkerT"><title>parking_lot_core::thread_parker::ThreadParkerT - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../parking_lot_core/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Trait ThreadParkerT</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#associated-types">Associated Types</a><div class="sidebar-links"><a href="#associatedtype.UnparkHandle">UnparkHandle</a></div><a class="sidebar-title" href="#associated-const">Associated Constants</a><div class="sidebar-links"><a href="#associatedconstant.IS_CHEAP_TO_CONSTRUCT">IS_CHEAP_TO_CONSTRUCT</a></div><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.new">new</a><a href="#tymethod.park">park</a><a href="#tymethod.park_until">park_until</a><a href="#tymethod.prepare_park">prepare_park</a><a href="#tymethod.timed_out">timed_out</a><a href="#tymethod.unpark_lock">unpark_lock</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../index.html'>parking_lot_core</a>::<wbr><a href='index.html'>thread_parker</a></p><script>window.sidebarCurrent = {name: 'ThreadParkerT', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/parking_lot_core/thread_parker/mod.rs.html#12-39' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../index.html'>parking_lot_core</a>::<wbr><a href='index.html'>thread_parker</a>::<wbr><a class="trait" href=''>ThreadParkerT</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait ThreadParkerT {
    type <a href='#associatedtype.UnparkHandle' class="type">UnparkHandle</a>: <a class="trait" href="../../parking_lot_core/thread_parker/trait.UnparkHandleT.html" title="trait parking_lot_core::thread_parker::UnparkHandleT">UnparkHandleT</a>;

    const <a href='#associatedconstant.IS_CHEAP_TO_CONSTRUCT' class="constant"><b>IS_CHEAP_TO_CONSTRUCT</b></a>: <a class="primitive" href="../../std/primitive.bool.html">bool</a>;

    fn <a href='#tymethod.new' class='fnname'>new</a>() -&gt; Self;
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.prepare_park' class='fnname'>prepare_park</a>(&amp;self);
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.timed_out' class='fnname'>timed_out</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a>;
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.park' class='fnname'>park</a>(&amp;self);
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.park_until' class='fnname'>park_until</a>(&amp;self, timeout: <a class="type" href="../../instant/native/type.Instant.html" title="type instant::native::Instant">Instant</a>) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a>;
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.unpark_lock' class='fnname'>unpark_lock</a>(&amp;self) -&gt; Self::<a class="type" href="../../parking_lot_core/thread_parker/trait.ThreadParkerT.html#associatedtype.UnparkHandle" title="type parking_lot_core::thread_parker::ThreadParkerT::UnparkHandle">UnparkHandle</a>;
}</pre></div><div class='docblock'><p>Trait for the platform thread parker implementation.</p>
<p>All unsafe methods are unsafe because the Unix thread parker is based on
pthread mutexes and condvars. Those primitives must not be moved and used
from any other memory address than the one they were located at when they
were initialized. As such, it's UB to call any unsafe method on
<code>ThreadParkerT</code> if the implementing instance has moved since the last
call to any of the unsafe methods.</p>
</div>
            <h2 id='associated-types' class='small-section-header'>Associated Types<a href='#associated-types' class='anchor'></a></h2><div class='methods'><h3 id='associatedtype.UnparkHandle' class='method'><code>type <a href='#associatedtype.UnparkHandle' class="type">UnparkHandle</a>: <a class="trait" href="../../parking_lot_core/thread_parker/trait.UnparkHandleT.html" title="trait parking_lot_core::thread_parker::UnparkHandleT">UnparkHandleT</a></code></h3></div><span class='loading-content'>Loading content...</span>
            <h2 id='associated-const' class='small-section-header'>Associated Constants<a href='#associated-const' class='anchor'></a></h2><div class='methods'><h3 id='associatedconstant.IS_CHEAP_TO_CONSTRUCT' class='method'><code>const <a href='#associatedconstant.IS_CHEAP_TO_CONSTRUCT' class="constant"><b>IS_CHEAP_TO_CONSTRUCT</b></a>: <a class="primitive" href="../../std/primitive.bool.html">bool</a></code></h3></div><span class='loading-content'>Loading content...</span>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.new' class='method'><code>fn <a href='#tymethod.new' class='fnname'>new</a>() -&gt; Self</code></h3><h3 id='tymethod.prepare_park' class='method'><code>unsafe fn <a href='#tymethod.prepare_park' class='fnname'>prepare_park</a>(&amp;self)</code></h3><div class='docblock'><p>Prepares the parker. This should be called before adding it to the queue.</p>
</div><h3 id='tymethod.timed_out' class='method'><code>unsafe fn <a href='#tymethod.timed_out' class='fnname'>timed_out</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></code></h3><div class='docblock'><p>Checks if the park timed out. This should be called while holding the
queue lock after park_until has returned false.</p>
</div><h3 id='tymethod.park' class='method'><code>unsafe fn <a href='#tymethod.park' class='fnname'>park</a>(&amp;self)</code></h3><div class='docblock'><p>Parks the thread until it is unparked. This should be called after it has
been added to the queue, after unlocking the queue.</p>
</div><h3 id='tymethod.park_until' class='method'><code>unsafe fn <a href='#tymethod.park_until' class='fnname'>park_until</a>(&amp;self, timeout: <a class="type" href="../../instant/native/type.Instant.html" title="type instant::native::Instant">Instant</a>) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></code></h3><div class='docblock'><p>Parks the thread until it is unparked or the timeout is reached. This
should be called after it has been added to the queue, after unlocking
the queue. Returns true if we were unparked and false if we timed out.</p>
</div><h3 id='tymethod.unpark_lock' class='method'><code>unsafe fn <a href='#tymethod.unpark_lock' class='fnname'>unpark_lock</a>(&amp;self) -&gt; Self::<a class="type" href="../../parking_lot_core/thread_parker/trait.ThreadParkerT.html#associatedtype.UnparkHandle" title="type parking_lot_core::thread_parker::ThreadParkerT::UnparkHandle">UnparkHandle</a></code></h3><div class='docblock'><p>Locks the parker to prevent the target thread from exiting. This is
necessary to ensure that thread-local ThreadData objects remain valid.
This should be called while holding the queue lock.</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-ThreadParkerT' class='impl'><code class='in-band'>impl ThreadParkerT for <a class="struct" href="../../parking_lot_core/thread_parker/imp/struct.ThreadParker.html" title="struct parking_lot_core::thread_parker::imp::ThreadParker">ThreadParker</a></code><a href='#impl-ThreadParkerT' class='anchor'></a><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#41-102' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.UnparkHandle-1' class="type"><code>type <a href='#associatedtype.UnparkHandle-1' class="type">UnparkHandle</a> = <a class="struct" href="../../parking_lot_core/thread_parker/imp/struct.UnparkHandle.html" title="struct parking_lot_core::thread_parker::imp::UnparkHandle">UnparkHandle</a></code></h4><h4 id='associatedconstant.IS_CHEAP_TO_CONSTRUCT-1' class="associatedconstant hidden"><code>const <a href='#associatedconstant.IS_CHEAP_TO_CONSTRUCT-1' class="constant"><b>IS_CHEAP_TO_CONSTRUCT</b></a>: <a class="primitive" href="../../std/primitive.bool.html">bool</a></code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#44' title='goto source code'>[src]</a></h4><h4 id='method.new' class="method hidden"><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../../parking_lot_core/thread_parker/imp/struct.ThreadParker.html" title="struct parking_lot_core::thread_parker::imp::ThreadParker">ThreadParker</a></code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#47-51' title='goto source code'>[src]</a></h4><h4 id='method.prepare_park' class="method hidden"><code>unsafe fn <a href='#method.prepare_park' class='fnname'>prepare_park</a>(&amp;self)</code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#54-56' title='goto source code'>[src]</a></h4><h4 id='method.timed_out' class="method hidden"><code>unsafe fn <a href='#method.timed_out' class='fnname'>timed_out</a>(&amp;self) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#59-61' title='goto source code'>[src]</a></h4><h4 id='method.park' class="method hidden"><code>unsafe fn <a href='#method.park' class='fnname'>park</a>(&amp;self)</code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#64-68' title='goto source code'>[src]</a></h4><h4 id='method.park_until' class="method hidden"><code>unsafe fn <a href='#method.park_until' class='fnname'>park_until</a>(&amp;self, timeout: <a class="type" href="../../instant/native/type.Instant.html" title="type instant::native::Instant">Instant</a>) -&gt; <a class="primitive" href="../../std/primitive.bool.html">bool</a></code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#71-90' title='goto source code'>[src]</a></h4><h4 id='method.unpark_lock' class="method hidden"><code>unsafe fn <a href='#method.unpark_lock' class='fnname'>unpark_lock</a>(&amp;self) -&gt; <a class="struct" href="../../parking_lot_core/thread_parker/imp/struct.UnparkHandle.html" title="struct parking_lot_core::thread_parker::imp::UnparkHandle">UnparkHandle</a></code><a class='srclink' href='../../src/parking_lot_core/thread_parker/linux.rs.html#96-101' title='goto source code'>[src]</a></h4></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../implementors/parking_lot_core/thread_parker/trait.ThreadParkerT.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "parking_lot_core";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>