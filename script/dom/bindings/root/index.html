<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `root` mod in crate `script`."><meta name="keywords" content="rust, rustlang, rust-lang, root"><title>script::dom::bindings::root - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../../ayu.css" disabled ><script src="../../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../../script/index.html'><div class='logo-container'><img src='../../../../rust-logo.png' alt='logo'></div></a><p class='location'>Module root</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class='location'><a href='../../../index.html'>script</a>::<wbr><a href='../../index.html'>dom</a>::<wbr><a href='../index.html'>bindings</a></p><script>window.sidebarCurrent = {name: 'root', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../../../settings.html"><img src="../../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../../src/script/dom/bindings/root.rs.html#5-799' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../../../index.html'>script</a>::<wbr><a href='../../index.html'>dom</a>::<wbr><a href='../index.html'>bindings</a>::<wbr><a class="mod" href=''>root</a></span></h1><div class='docblock'><p>Smart pointers for the JS-managed DOM objects.</p>
<p>The DOM is made up of DOM objects whose lifetime is entirely controlled by
the whims of the SpiderMonkey garbage collector. The types in this module
are designed to ensure that any interactions with said Rust types only
occur on values that will remain alive the entire time.</p>
<p>Here is a brief overview of the important types:</p>
<ul>
<li><code>Root&lt;T&gt;</code>: a stack-based rooted value.</li>
<li><code>DomRoot&lt;T&gt;</code>: a stack-based reference to a rooted DOM object.</li>
<li><code>Dom&lt;T&gt;</code>: a reference to a DOM object that can automatically be traced by
the GC when encountered as a field of a Rust structure.</li>
</ul>
<p><code>Dom&lt;T&gt;</code> does not allow access to their inner value without explicitly
creating a stack-based root via the <code>root</code> method. This returns a <code>DomRoot&lt;T&gt;</code>,
which causes the JS-owned value to be uncollectable for the duration of the
<code>Root</code> object's lifetime. A reference to the object can then be obtained
from the <code>Root</code> object. These references are not allowed to outlive their
originating <code>DomRoot&lt;T&gt;</code>.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.Dom.html" title='script::dom::bindings::root::Dom struct'>Dom</a></td><td class='docblock-short'><p>A traced reference to a DOM object</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.DomOnceCell.html" title='script::dom::bindings::root::DomOnceCell struct'>DomOnceCell</a></td><td class='docblock-short'><p>A holder that allows to lazily initialize the value only once
<code>Dom&lt;T&gt;</code>, using OnceCell
Essentially a <code>OnceCell&lt;Dom&lt;T&gt;&gt;</code>.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.LayoutDom.html" title='script::dom::bindings::root::LayoutDom struct'>LayoutDom</a></td><td class='docblock-short'><p>An unrooted reference to a DOM object for use in layout. <code>Layout*Helpers</code>
traits must be implemented on this.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.MaybeUnreflectedDom.html" title='script::dom::bindings::root::MaybeUnreflectedDom struct'>MaybeUnreflectedDom</a></td><td class='docblock-short'><p>A traced reference to a DOM object that may not be reflected yet.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.MutDom.html" title='script::dom::bindings::root::MutDom struct'>MutDom</a></td><td class='docblock-short'><p>A holder that provides interior mutability for GC-managed values such as
<code>Dom&lt;T&gt;</code>.  Essentially a <code>Cell&lt;Dom&lt;T&gt;&gt;</code>, but safer.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.MutNullableDom.html" title='script::dom::bindings::root::MutNullableDom struct'>MutNullableDom</a></td><td class='docblock-short'><p>A holder that provides interior mutability for GC-managed values such as
<code>Dom&lt;T&gt;</code>, with nullability represented by an enclosing Option wrapper.
Essentially a <code>Cell&lt;Option&lt;Dom&lt;T&gt;&gt;&gt;</code>, but safer.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Root.html" title='script::dom::bindings::root::Root struct'>Root</a></td><td class='docblock-short'><p>A rooted value.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.RootCollection.html" title='script::dom::bindings::root::RootCollection struct'>RootCollection</a></td><td class='docblock-short'><p>A rooting mechanism for reflectors on the stack.
LIFO is not required.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ThreadLocalStackRoots.html" title='script::dom::bindings::root::ThreadLocalStackRoots struct'>ThreadLocalStackRoots</a></td><td class='docblock-short'></td></tr></table><h2 id='constants' class='section-header'><a href="#constants">Constants</a></h2>
<table><tr class='module-item'><td><a class="constant" href="constant.STACK_ROOTS.html" title='script::dom::bindings::root::STACK_ROOTS constant'>STACK_ROOTS</a></td><td class='docblock-short'></td></tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.DomSlice.html" title='script::dom::bindings::root::DomSlice trait'>DomSlice</a></td><td class='docblock-short'><p>Get a slice of references to DOM objects.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.OptionalHeapSetter.html" title='script::dom::bindings::root::OptionalHeapSetter trait'>OptionalHeapSetter</a></td><td class='docblock-short'><p>Helper trait for safer manipulations of <code>Option&lt;Heap&lt;T&gt;&gt;</code> values.</p>
</td></tr><tr class='module-item'><td><a class="trait" href="trait.StableTraceObject.html" title='script::dom::bindings::root::StableTraceObject trait'>StableTraceObject</a></td><td class='docblock-short'><p>Represents values that can be rooted through a stable address that will
not change for their whole lifetime.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.assert_in_layout.html" title='script::dom::bindings::root::assert_in_layout fn'>assert_in_layout</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.assert_in_script.html" title='script::dom::bindings::root::assert_in_script fn'>assert_in_script</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.trace_roots.html" title='script::dom::bindings::root::trace_roots fn'>trace_roots</a><a title='unsafe function' href='#'><sup>⚠</sup></a></td><td class='docblock-short'><p>SM Callback that traces the rooted reflectors</p>
</td></tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table><tr class='module-item'><td><a class="type" href="type.DomRoot.html" title='script::dom::bindings::root::DomRoot type'>DomRoot</a></td><td class='docblock-short'><p>A rooted reference to a DOM object.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../../";window.currentCrate = "script";</script><script src="../../../../main.js"></script><script defer src="../../../../search-index.js"></script></body></html>